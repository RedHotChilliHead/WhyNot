# FastAPI Concurrent Requests Test

## Описание

Это простое приложение на FastAPI с одним методом, который выполняет "полезную работу" (ожидание 3 секунды) 
и возвращает время, затраченное на обработку запроса. 
Приложение не допускает одновременное выполнение нескольких запросов к функции `work`, 
так что каждый запрос выполняется последовательно, и время между запросами отличается минимум на 3 секунды.

## Установка и запуск

### 1. Клонирование репозитория

Сначала клонируйте репозиторий:
```bash
git clone https://github.com/RedHotChilliHead/WhyNot.git
cd WhyNot
```

### 2. Создание виртуального окружения и установка зависимостей

Создайте и активируйте виртуальное окружение:
```bash
python3 -m venv .venv
source .venv/bin/activate  # для Linux/Mac
.venv\Scripts\activate  # для Windows
```

### 3. Установите зависимости:
```bash
pip install -r requirements.txt
```

### 4. Запуск приложения
```bash
uvicorn main:app --reload
```

## Точки доступа API

GET /test

Этот эндпоинт выполняет работу, которая занимает 3 секунды и возвращает фактически затраченное время на выполнение:

Пример запроса:
```bash
curl -X 'GET' 'http://127.0.0.1:8000/test' -H 'accept: application/json'
```

Пример ответа:
```json
{
  "elapsed": 3.001
}
```

## Тестирование

Запуск тестов:
```bash
pytest -s
```

Пример успешного результата:
```
Полученный ответ: {'elapsed': 3.000744334072806}
Полученный ответ: {'elapsed': 6.005321374977939}
Полученный ответ: {'elapsed': 9.007725042058155}
Общее время выполнения теста: 9.062209959025495
==================================================================== 1 passed in 9.11s =====================================================================
```

## Документация
- Swagger UI: http://127.0.0.1:8000/docs
- ReDoc: http://127.0.0.1:8000/redoc

